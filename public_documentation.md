# Система мониторинга Telegram-каналов

## О чем эта система?

Система мониторинга Telegram-каналов предназначена для автоматического отслеживания новых сообщений в указанных каналах, их анализа на соответствие ключевым словам и отправки уведомлений операторам и администраторам. Система состоит из серверной части (backend) на FastAPI и клиентской части в виде Telegram-бота на aiogram.

Система работает как личный помощник, который:
- Постоянно просматривает выбранные Telegram-каналы
- Находит сообщения с ключевыми словами
- Сразу же отправляет уведомление через Telegram-бота
- Позволяет быстро реагировать на найденную информацию

## Принцип работы системы

### 1. Начало работы

Доступ к системе осуществляется через Telegram-бот. При первом взаимодействии с ботом происходит автоматическая регистрация и определение роли (администратор или оператор).

### 2. Функциональные возможности

**Функции оператора:**
- Получение уведомлений о новых сообщениях с ключевыми словами
- Обработка сообщений с возможностью присвоения статуса
- Возможность предложения новых каналов для мониторинга
- Возможность предложения новых ключевых слов для мониторинга

**Функции администратора:**
- Все функции оператора
- Управление списком каналов для мониторинга
- Управление списком ключевых слов
- Управление пользователями и их ролями
- Получение уведомлений о сбоях в работе системы

### 3. Процесс мониторинга

1. Система регулярно (например, каждые 5 минут) проверяет все добавленные каналы
2. Система находит новые сообщения, которые появились с момента последней проверки
3. Происходит проверка содержимого сообщений на наличие ключевых слов
4. При обнаружении совпадений отправляются уведомления операторам
5. Все найденные сообщения сохраняются в базе данных для истории

### 4. Процесс обработки уведомлений

При обнаружении важного сообщения:
1. Оператору поступает уведомление с текстом сообщения и информацией о канале
2. Для обработки сообщения оператор может использовать кнопку "Обработать"
3. После начала обработки уведомление автоматически удаляется у других операторов
4. К сообщению можно добавить комментарий или отметку
5. Все действия сохраняются в системе для последующего анализа

## Преимущества системы

### Экономия времени
Вместо необходимости ручного просмотра десятков каналов система автоматически отбирает только релевантные сообщения.

### Полнота охвата
Система работает круглосуточно и не пропускает ни одного сообщения с ключевыми словами.

### Командная работа
Несколько операторов могут одновременно обрабатывать разные сообщения без дублирования работы.

### Гибкость настройки
Система позволяет гибко настраивать список каналов и ключевых слов в зависимости от текущих потребностей.

### История и отчеты
Все найденные сообщения и действия пользователей сохраняются для последующего анализа.

## Технические детали (простым языком)

### Из чего состоит система?

1. **Telegram-бот** — ваш интерфейс для общения с системой
2. **Серверная часть** — "мозг" системы, который выполняет всю работу
3. **База данных** — "память" системы, где хранится вся информация

### Как система подключается к Telegram?

Система использует специальные аккаунты для чтения сообщений в каналах. Эти аккаунты:
- Добавляются администраторами через интерфейс системы
- Распределяются автоматически между каналами для равномерной нагрузки
- Заменяются автоматически, если с каким-то из них возникают проблемы

### Что делать, если система не работает?

Если возникают проблемы:
1. Администраторы получают автоматические уведомления о сбоях
2. Система пытается автоматически восстановить работу
3. Если автоматическое восстановление не помогает, администратор может перезапустить мониторинг вручную

## Часто задаваемые вопросы

### Может ли система читать личные сообщения?
Нет, система работает только с публичными Telegram-каналами, которые были добавлены в список мониторинга.

### Как добавить новый канал для мониторинга?
Операторы могут предложить канал через бота. Администраторы могут добавить канал напрямую через интерфейс системы.

### Как добавить новое ключевое слово?
Аналогично каналам: операторы предлагают, администраторы утверждают и добавляют.

### Сколько каналов может отслеживать система?
Система может отслеживать сотни каналов одновременно. Ограничение зависит только от количества доступных аккаунтов и мощности сервера.

### Как часто проверяются каналы?
По умолчанию каждые 5 минут, но этот интервал может быть изменен в настройках системы.

---

© 2025 Система мониторинга Telegram-каналов
